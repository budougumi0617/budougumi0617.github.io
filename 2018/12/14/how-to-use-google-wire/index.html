<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
    
    
      <link href="/css/fonts.css" rel="stylesheet" type="text/css">
    
  

  
  <title>google/wireを使ったDIとDI関数のシグネチャについて #go</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  

  
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
  

  
  <link href="https://budougumi0617.github.io/favicon.png" rel="icon">

  
  
  

  

  <meta name="description" content="">
  <meta name="keywords" content="">

  <meta name="author" content="">

  
  <meta name="generator" content="Hugo 0.50" />

  
  

  
  
    

  
    <meta name="twitter:card" content="summary"/>
  
  
  <meta name="twitter:title" content="google/wireを使ったDIとDI関数のシグネチャについて #go"/>
  <meta name="twitter:description" content="これはGo Advent Calendar 2018の14日目の記事となる。
この記事ではGoogleが提供するGoのDependency Injection(DI、依存性の注入)ツールであるWireを使ったDIの概要と、Wireで利用可能なDI関数の戻り値シグネチャのパターンを紹介する。


github.com/google/wire


https://github.com/google/wire

Compile-time Dependency Injection With Go Cloud&rsquo;s Wire | The Go blog


https://blog.golang.org/wire



"/>
  
  <meta name="twitter:domain" content="budougumi0617.github.io"/>
  <meta name="twitter:creator" content="@budougumi0617"/>

  

  
  <script type="text/javascript">
    (function(add, cla){window['UserHeatTag']=cla;window[cla]=window[cla]||function(){(window[cla].q=window[cla].q||[]).push(arguments)},window[cla].l=1*new Date();var ul=document.createElement('script');var tag = document.getElementsByTagName('script')[0];ul.async=1;ul.src=add;tag.parentNode.insertBefore(ul,tag);})('//uh.nakanohito.jp/uhj2/uh.js', '_uhtracker');_uhtracker({id:'uhUEw1Gd9C'});
  </script>
  
</head>
<body>


<header role="banner"><hgroup>
  
  <h1><a href="https://budougumi0617.github.io/">My External Storage</a></h1>
    <h2></h2>
</hgroup></header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      
        <option value="https://budougumi0617.github.io/">» Home</option>
      
        <option value="https://budougumi0617.github.io/2017/07/11/about-this-site/">» About</option>
      
        <option value="https://budougumi0617.github.io/post/">» Archives</option>
      

  </select>
</fieldset>


<ul class="main-navigation">
  
  
    
      <li><a href="https://budougumi0617.github.io/" title="Home">Home</a></li>
    
  
    
      <li><a href="https://budougumi0617.github.io/2017/07/11/about-this-site/" title="About"  target="_blank" >About</a></li>
    
  
    
      <li><a href="https://budougumi0617.github.io/post/" title="Archives"  target="_blank" >Archives</a></li>
    
  
</ul>


<ul class="subscription">
  
    
        <a href="https://budougumi0617.github.io/index.xml" target="_blank" type="application/rss+xml" title="RSS"><i class="fa fa-rss-square fa-lg"></i></a>
    
  

</ul>


</nav>


<div id="main">
  <div id="content">
    <div>
      <article class="hentry" role="article">

        
        

<header>
    <p class="meta">Dec 14, 2018
         - 7 minute read 
         - <a href="https://budougumi0617.github.io/2018/12/14/how-to-use-google-wire/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="https://budougumi0617.github.io/categories/go/">go </a>
        
    </p>
    <h1 class="entry-title">
         google/wireを使ったDIとDI関数のシグネチャについて #go 
    </h1>
</header>


        <div class="entry-content">
          
          
          
          
            <nav id="TableOfContents">
<ul>
<li><a href="#tl-dr">TL;DR</a></li>
<li><a href="#wireについて">Wireについて</a>
<ul>
<li><a href="#wireを使ったdiパーツの定義">Wireを使ったDIパーツの定義</a></li>
<li><a href="#wireを使ったdiの宣言">Wireを使ったDIの宣言</a></li>
<li><a href="#wireを使ってdiの自動生成">Wireを使ってDIの自動生成</a></li>
</ul></li>
<li><a href="#wireコマンドで利用できるdi関数の戻り値シグネチャ">wireコマンドで利用できるDI関数の戻り値シグネチャ</a>
<ul>
<li><a href="#func-object">func() Object</a></li>
<li><a href="#func-object-error">func() (Object, error)</a></li>
<li><a href="#func-object-func">func() (Object, func())</a></li>
<li><a href="#func-object-func-error">func() (Object, func(), error)</a></li>
</ul></li>
<li><a href="#終わりに">終わりに</a></li>
<li><a href="#参考">参考</a></li>
<li><a href="#関連">関連</a></li>
</ul>
</nav>
          
          <p>これは<a href="https://qiita.com/advent-calendar/2018/go">Go Advent Calendar 2018</a>の14日目の記事となる。<br />
この記事ではGoogleが提供するGoのDependency Injection(DI、依存性の注入)ツールであるWireを使ったDIの概要と、Wireで利用可能なDI関数の戻り値シグネチャのパターンを紹介する。</p>

<ul>
<li>github.com/google/wire

<ul>
<li><a href="https://github.com/google/wire">https://github.com/google/wire</a></li>
</ul></li>
<li>Compile-time Dependency Injection With Go Cloud&rsquo;s Wire | The Go blog

<ul>
<li><a href="https://blog.golang.org/wire">https://blog.golang.org/wire</a></li>
</ul></li>
</ul>

<p></p>

<h1 id="tl-dr">TL;DR</h1>

<ul>
<li>WireコマンドはGoogle謹製のGoでDI（依存性の注入）を行なうツール

<ul>
<li><a href="https://github.com/google/wire">https://github.com/google/wire</a></li>
<li>依存の注入・初期化、依存の注入・初期化を繰り返して多階層になるDIコードも自動生成できる</li>
</ul></li>
<li>DIで利用できる関数の戻り値のパターンは4種類（引数は任意）

<ul>
<li>func() Object</li>
<li>func() (Object, error)</li>
<li>func() (Object, func())</li>
<li>func() (Object, func(), error)</li>
</ul></li>
<li>Wireを利用すると疎なpkg構成とDIコードの自動生成を享受できる</li>
</ul>

<h1 id="wireについて">Wireについて</h1>

<p>WireはGoogleが<a href="https://github.com/google/go-cloud">go-cloud</a>のリポジトリを公開したときに同梱されていたDIツールだ。
<a href="https://github.com/google/go-cloud/pull/831">2018年12月</a>にWireだけ別のリポジトリに分離され、独立して管理されるようになった。
次節から説明する<code>wire</code>pkgを使ったDIパーツ・組み合わせの定義に対して<code>go get</code>で入手できる<code>wire</code>コマンドを実行するとDIの初期化コードを自動生成できる。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ go get github.com/google/wire/cmd/wire
$ wire -h
usage: wire <span style="color:#719e07">[</span>gen|diff|show|check<span style="color:#719e07">]</span> <span style="color:#719e07">[</span>...<span style="color:#719e07">]</span></code></pre></div>
<h2 id="wireを使ったdiパーツの定義">Wireを使ったDIパーツの定義</h2>

<p>Wireを使ったDIを利用するにはまず<code>wire.NewSet</code>を使ってDIのパーツ(Provider)を定義する必要がある。</p>

<p>（コードは<a href="https://github.com/google/wire/blob/master/docs/guide.md#defining-providers">Defining Providers | Wire User Guide</a>より抜粋）</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#719e07">package</span> foobarbaz

<span style="color:#719e07">import</span> (
    <span style="color:#2aa198">&#34;github.com/google/wire&#34;</span>
)

<span style="color:#268bd2">type</span> Foo <span style="color:#268bd2">struct</span> {
    X <span style="color:#dc322f">int</span>
}

<span style="color:#586e75">// ProvideFoo はFoo構造体を提供するNew関数
</span><span style="color:#586e75"></span><span style="color:#268bd2">func</span> ProvideFoo() Foo {
    <span style="color:#719e07">return</span> Foo{X: <span style="color:#2aa198">42</span>}
}

<span style="color:#268bd2">type</span> Bar <span style="color:#268bd2">struct</span> {
    X <span style="color:#dc322f">int</span>
}

<span style="color:#586e75">// ProvideBar はFooを用いてBarを初期化するNew関数
</span><span style="color:#586e75"></span><span style="color:#268bd2">func</span> ProvideBar(foo Foo) Bar {
    <span style="color:#719e07">return</span> Bar{X: <span style="color:#719e07">-</span>foo.X}
}

<span style="color:#268bd2">type</span> Baz <span style="color:#268bd2">struct</span> {
    X <span style="color:#dc322f">int</span>
}

<span style="color:#586e75">// ProvideBaz はBarを利用してBazを初期化するNew関数
</span><span style="color:#586e75"></span><span style="color:#268bd2">func</span> ProvideBaz(ctx context.Context, bar Bar) (Baz, <span style="color:#dc322f">error</span>) {
    <span style="color:#719e07">if</span> bar.X <span style="color:#719e07">==</span> <span style="color:#2aa198">0</span> {
        <span style="color:#719e07">return</span> Baz{}, errors.New(<span style="color:#2aa198">&#34;cannot provide baz when bar is zero&#34;</span>)
    }
    <span style="color:#719e07">return</span> Baz{X: bar.X}, <span style="color:#cb4b16">nil</span>
}

<span style="color:#586e75">// wireを使ってFoo | Bar | Bazを提供するDIセットを定義する。
</span><span style="color:#586e75">// Bazを取得するときは別にcontext.Contextを用意する必要がある。
</span><span style="color:#586e75"></span><span style="color:#268bd2">var</span> SuperSet = wire.NewSet(ProvideFoo, ProvideBar, ProvideBaz)</code></pre></div>
<p>上記のサンプルコードの最後で定義しているのがWireの仕組み内でProviderと呼ばれるもので、このProviderを複数組み合わせることでDIの初期化をしていく。</p>

<h2 id="wireを使ったdiの宣言">Wireを使ったDIの宣言</h2>

<p><code>wire.Build</code>を使って依存性を収入するオブジェクトの構成（Injector）を定義する。</p>

<p><a href="https://github.com/google/wire/blob/master/docs/guide.md#injectors">Injectors | Wire User Guide</a>より</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#586e75">// +build wireinject
</span><span style="color:#586e75">// このコードはgo buildには含まない
</span><span style="color:#586e75"></span>
<span style="color:#719e07">import</span> (
    <span style="color:#2aa198">&#34;context&#34;</span>

    <span style="color:#2aa198">&#34;github.com/google/wire&#34;</span>
    <span style="color:#2aa198">&#34;example.com/foobarbaz&#34;</span>
)

<span style="color:#586e75">// SuperSetを使ってDI済みのBazを生成する。
</span><span style="color:#586e75"></span><span style="color:#268bd2">func</span> initializeBaz(ctx context.Context) (foobarbaz.Baz, <span style="color:#dc322f">error</span>) {
    wire.Build(foobarbaz.SuperSet)
    <span style="color:#719e07">return</span> foobarbaz.Baz{}, <span style="color:#cb4b16">nil</span>
}</code></pre></div>
<p>この例では<code>Baz</code>オブジェクトを生成する関数を定義している。
前述の中で定義した<code>SuperSet</code>に含まれる<code>Baz</code>オブジェクトを生成する関数（<code>ProvideBar</code>）に必要な<code>context.Context</code>が<code>SuperSet</code>内の関数から用意できないため、<code>initializeBaz</code>の引数から<code>context.Context</code>を与えている。
なお、「あるSetからXXXオブジェクトを生成するためにはどんなオブジェクトを用意すればいいのか？」は<code>wire show</code>コマンドを使えば簡単に調べることができる。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ wire show
<span style="color:#2aa198">&#34;github.com/budougumi0617/foobarbaz&#34;</span>.SuperSet
Outputs given no inputs: <span style="color:#586e75"># 特に用意せずにSuperSetから生成できるオブジェクト
</span><span style="color:#586e75"></span>        github.com/budougumi0617/foobarbaz.Bar
                at /Users/budougumi0617/go/src/github.com/budougumi0617/foobarbaz/foobarbaz.go:24:6
        github.com/budougumi0617/foobarbaz.Foo
                at /Users/budougumi0617/go/src/github.com/budougumi0617/foobarbaz/foobarbaz.go:15:6
Outputs given context.Context: <span style="color:#586e75"># context.Contextを与えれば生成できるオブジェクト
</span><span style="color:#586e75"></span>        github.com/budougumi0617/foobarbaz.Baz
                at /Users/budougumi0617/go/src/github.com/budougumi0617/foobarbaz/foobarbaz.go:33:6</code></pre></div>
<h2 id="wireを使ってdiの自動生成">Wireを使ってDIの自動生成</h2>

<p>先程の<code>initializeBaz</code>から実際に<code>go build</code>時に利用するDIコードを自動生成する。
<code>wire gen</code>コマンドを使って<code>initializeBaz</code>から自動生成されたコードが以下。</p>

<p><a href="https://github.com/google/wire/blob/master/docs/guide.md#injectors">Injectors | Wire User Guide</a>より</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#586e75">// Code generated by Wire. DO NOT EDIT.
</span><span style="color:#586e75"></span>
<span style="color:#586e75">//go:generate wire
</span><span style="color:#586e75">//+build !wireinject
</span><span style="color:#586e75"></span>
<span style="color:#719e07">package</span> main

<span style="color:#719e07">import</span> (
    <span style="color:#2aa198">&#34;example.com/foobarbaz&#34;</span>
)

<span style="color:#268bd2">func</span> initializeBaz(ctx context.Context) (foobarbaz.Baz, <span style="color:#dc322f">error</span>) {
    foo <span style="color:#719e07">:=</span> foobarbaz.ProvideFoo()
    bar <span style="color:#719e07">:=</span> foobarbaz.ProvideBar(foo)
    baz, err <span style="color:#719e07">:=</span> foobarbaz.ProvideBaz(ctx, bar)
    <span style="color:#719e07">if</span> err <span style="color:#719e07">!=</span> <span style="color:#cb4b16">nil</span> {
        <span style="color:#719e07">return</span> <span style="color:#2aa198">0</span>, err
    }
    <span style="color:#719e07">return</span> baz, <span style="color:#cb4b16">nil</span>
}</code></pre></div>
<p>こうして<code>wire gen</code>コマンドを使うと、DI済みのオブジェクトを作成するコードを自動生成してくれる。
この<code>wire gen</code>を使ったDIのよいところは以下だと感じている。</p>

<ul>
<li>必要な依存関係を含めておけばwireが適切な順序でオブジェクト生成、DIを繰り返すコードを自動生成してくれる

<ul>
<li>不足している場合は<code>wire gen</code>時に何が足りないかエラー出力してくれる</li>
</ul></li>
<li>コード上の仕組みはシンプルなので後からでも導入できる。また逆に脱却も用意</li>
<li>「ただオブジェクト間の依存性を解決するだけ」という人間が行なう必要が無いコードをWireに一存できる</li>
</ul>

<p>最後の利点については、例えば<code>go-cloud</code>のサンプルコードを見るとその効果がわかりやすい。
<code>go-cloud</code>のサンプルコードではGCPを利用したWebサービスのDIをWireのInjectorの仕組みを使って以下のように設定している。
詳細は説明しないが、<code>Bucket</code>や<code>Cloud SQL</code>、<code>Stackdriver</code>の依存性を注入したWebサーバーオブジェクト(<code>*application</code>）を生成するDIの定義だ。</p>

<p><a href="https://github.com/google/go-cloud/blob/3c405e2532f18716f030e35b1e99c2dffcb92a6e/samples/guestbook/inject_gcp.go#L37-L50">/github.com/google/go-cloud/samples/guestbook/inject_gcp.go</a></p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#586e75">// setupGCP is a Wire injector function that sets up the application using GCP.
</span><span style="color:#586e75"></span><span style="color:#268bd2">func</span> setupGCP(ctx context.Context, flags <span style="color:#719e07">*</span>cliFlags) (<span style="color:#719e07">*</span>application, <span style="color:#268bd2">func</span>(), <span style="color:#dc322f">error</span>) {
    <span style="color:#586e75">// This will be filled in by Wire with providers from the provider sets in
</span><span style="color:#586e75"></span>    <span style="color:#586e75">// wire.Build.
</span><span style="color:#586e75"></span>    wire.Build(
        gcpcloud.GCP,
        cloudmysql.Open,
        applicationSet,
        gcpBucket,
        gcpMOTDVar,
        gcpSQLParams,
    )
    <span style="color:#719e07">return</span> <span style="color:#cb4b16">nil</span>, <span style="color:#cb4b16">nil</span>, <span style="color:#cb4b16">nil</span>
}</code></pre></div>
<p>この<code>setupGCP</code>から<code>wire gen</code>コマンドを使って実際にビルドで利用するDIコードを自動生成すると、70行近いDIコードが自動生成される（コードの掲載は省略する）。</p>

<p><a href="https://github.com/google/go-cloud/blob/3c405e2532f18716f030e35b1e99c2dffcb92a6e/samples/guestbook/wire_gen.go#L105-L171">https://github.com/google/go-cloud/samples/guestbook/wire_gen.go#L105-L171</a></p>

<p>依存関係が変更あるいは追加されるたびにこのような依存関係を自動で再生成してくれるのは非常にありがたい。
（再生成前に<code>wire diff</code>コマンドを使って自動生成コードの差分を確認することも可能だ。）</p>

<h1 id="wireコマンドで利用できるdi関数の戻り値シグネチャ">wireコマンドで利用できるDI関数の戻り値シグネチャ</h1>

<p>上記のようにDIを定義するWireだが、Provider（<code>wire.NewSet</code>）で利用できるDI定義の関数には条件がある。
（依存するオブジェクトは生成する各々のオブジェクトで異なるので当然だが、）関数の引数には制限はないが、戻り値のシグネチャは４パターンしか認められていない。</p>

<h2 id="func-object">func() Object</h2>

<p>１つ目は単純にDI済みのオブジェクトのみを返すパターンだ。</p>

<p>例: <a href="https://github.com/google/go-cloud/blob/129201bb98c1758a383cd059f0b5fe8d7920c9fa/gcp/gcp.go#L79">github.com/google/go-cloud/gcp/gcp.go#L79</a></p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#268bd2">func</span> CredentialsTokenSource(creds <span style="color:#719e07">*</span>google.Credentials) TokenSource</code></pre></div>
<h2 id="func-object-error">func() (Object, error)</h2>

<p>２つ目はDIに失敗したときに<code>error</code>を返す戻り値パターンだ。<code>error</code>を返すDI関数が<code>wire.Build</code>に含まれている場合は、自動生成後のコード内で適切にエラーハンドリングするコードを生成してくれる。</p>

<p>例: <a href="https://github.com/google/go-cloud/blob/129201bb98c1758a383cd059f0b5fe8d7920c9fa/gcp/gcp.go#L70">github.com/google/go-cloud/gcp/gcp.go#L70</a></p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#268bd2">func</span> DefaultCredentials(ctx context.Context) (<span style="color:#719e07">*</span>google.Credentials, <span style="color:#dc322f">error</span>)</code></pre></div>
<h2 id="func-object-func">func() (Object, func())</h2>

<p>３つ目は廃棄前に何らかのクリーンアップ処理が必要なDI済みのオブジェクトを生成する関数に対応するパターン。
例えば<code>*sql.DB</code>オブジェクトを生成する関数を用意するとして、<code>db.close</code>をクリーンアップ関数として返しておく。
そうすると、自動生成されたDIコードの中で<code>err != nil</code>だったとき適切にクリーンアップが行われる。</p>

<p>例: <a href="https://github.com/google/go-cloud/blob/129201bb98c1758a383cd059f0b5fe8d7920c9fa/samples/guestbook/main.go#L313">https://github.com/google/go-cloud/samples/guestbook/main.go#L313</a></p>

<pre><code>func appHealthChecks(db *sql.DB) ([]health.Checker, func())
</code></pre>

<h2 id="func-object-func-error">func() (Object, func(), error)</h2>

<p>４つ目は異常がなかったときはDIオブジェクトとクリーンアップ関数を返し、異常時は<code>error</code>を返すパターン。
実際に定義する際は３つめのパターンよりこの宣言になることのほうが多いだろう。</p>

<p>例: <a href="https://github.com/google/go-cloud/blob/129201bb98c1758a383cd059f0b5fe8d7920c9fa/mysql/rdsmysql/rdsmysql.go#L60">https://github.com/google/go-cloud/mysql/rdsmysql/rdsmysql.go#L60</a></p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#268bd2">func</span> appHealthChecks(db <span style="color:#719e07">*</span>sql.DB) ([]health.Checker, <span style="color:#268bd2">func</span>())</code></pre></div>
<p>どれも<code>XXX</code>構造体に対して<code>NewXXX</code>関数を定義するときに利用されるパターンだ。なので、既存コードの<code>New</code>関数を使って<code>wire.NewSet</code>を定義していけば既存のプロジェクトでもすぐに利用を開始できる。</p>

<h1 id="終わりに">終わりに</h1>

<p>今回は<code>Wire</code>を使ったDIの利点と<code>Wire</code>で利用可能なDI関数の戻り値パターンを紹介した。
プリミティブな値を引数・戻り値に含む関数を使ってDIをするときは型エイリアスを適切に切っておく、などいくつかのプラクティスがあるのだが、それらはWireのリポジトリのdocsを確認すればよい。</p>

<ul>
<li>Best Practices

<ul>
<li><a href="https://github.com/google/wire/blob/master/docs/best-practices.md">https://github.com/google/wire/blob/master/docs/best-practices.md</a></li>
</ul></li>
</ul>

<p>実際にWireを使ったサンプルコードについては以下を参照するといいと思う。</p>

<ul>
<li><a href="https://github.com/google/go-cloud/tree/master/samples/guestbook">https://github.com/google/go-cloud/tree/master/samples/guestbook</a></li>
<li><a href="https://github.com/terashi58/wire-example">https://github.com/terashi58/wire-example</a></li>
</ul>

<p>なお、プロダクトで利用している事例は私の同僚のterashiさんが書いた以下のブログ記事が詳しい。</p>

<ul>
<li>freeeのマイクロサービス基盤とWire導入

<ul>
<li><a href="https://developers.freee.co.jp/entry/service-infra-and-wire">https://developers.freee.co.jp/entry/service-infra-and-wire</a></li>
</ul></li>
</ul>

<h1 id="参考">参考</h1>

<ul>
<li>google/wire

<ul>
<li><a href="https://github.com/google/wire">https://github.com/google/wire</a></li>
</ul></li>
<li>google/go-cloud

<ul>
<li><a href="https://github.com/google/go-cloud">https://github.com/google/go-cloud</a></li>
</ul></li>
<li>Compile-time Dependency Injection With Go Cloud&rsquo;s Wire

<ul>
<li><a href="https://blog.golang.org/wire">https://blog.golang.org/wire</a></li>
</ul></li>
<li>freeeのマイクロサービス基盤とWire導入

<ul>
<li><a href="https://developers.freee.co.jp/entry/service-infra-and-wire">https://developers.freee.co.jp/entry/service-infra-and-wire</a></li>
</ul></li>
</ul>

<h1 id="関連">関連</h1>

<ul>
<li><a href="/2018/10/19/presentation-gounco-lt4/">[発表資料]go-cloudとWireを利用したDI #gounco #go</a></li>
</ul>
        </div>
        

<footer>
  <p class="meta">
    <span class="byline author vcard">Posted by <span class="fn"></span></span>
    
    <time>Dec 14, 2018</time>
    
      <span class="categories">
        Tags:
        
          <a class="category" href="https://budougumi0617.github.io/tags/golang">golang</a>  <a class="category" href="https://budougumi0617.github.io/tags/wire">wire</a>  
    
    </span>
  </p>

  
  

  

  <p class="meta">
    
        <a class="basic-alignment left" href="https://budougumi0617.github.io/2018/12/09/mecab-undefined-symbols-for-architecture-x86_64/" title="[Go] bluele/mecab-golangを含むコードをビルドすると Undefined symbols for architecture x86_64 と出て失敗する">[Go] bluele/mecab-golangを含むコードをビルドすると Undefined symbols for architecture x86_64 と出て失敗する</a>
    

    
      <a class="basic-alignment right" href="https://budougumi0617.github.io/2018/12/15/retrospective-on-github/" title="2018年振り返り(GitHub編)">2018年振り返り(GitHub編)</a>
    
  </p>
  
    
      <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'http-budougumi0617-github-io';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    
  
</footer>

      </article>
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/budougumi0617" title="https://github.com/budougumi0617"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/budougumi0617" title="https://twitter.com/budougumi0617"><i class="fa fa-twitter fa-3x"></i></a>
      
         
      
      <a target="_blank" href="https://www.linkedin.com/in/budougumi0617/" title="https://www.linkedin.com/in/budougumi0617/"><i class="fa fa-linkedin fa-3x"></i></a>
      
      
      
      
      
      

    
    
    </li>
  </ul>

  

  
    
      <section class="odd">
        
          <h1>Archives</h1>
        
        
          <li>
            <a href="https://budougumi0617.github.io/categories/" title="Categories" >Categories</a>
          </li>
        
          <li>
            <a href="https://budougumi0617.github.io/tags/" title="Tags" >Tags</a>
          </li>
        
      </section>
    
  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/2018/12/27/retrospective-2018/">2018年振り返り</a>
              </li>
            
          
            
              <li class="post">
                <a href="/2018/12/19/report-golangtokyo-20/">golang.tokyo #20 忘年LT大会！！ 参加メモ #golangtokyo</a>
              </li>
            
          
            
              <li class="post">
                <a href="/2018/12/15/retrospective-on-github/">2018年振り返り(GitHub編)</a>
              </li>
            
          
            
              <li class="post">
                <a href="/2018/12/14/how-to-use-google-wire/">google/wireを使ったDIとDI関数のシグネチャについて #go</a>
              </li>
            
          
            
              <li class="post">
                <a href="/2018/12/09/mecab-undefined-symbols-for-architecture-x86_64/">[Go] bluele/mecab-golangを含むコードをビルドすると Undefined symbols for architecture x86_64 と出て失敗する</a>
              </li>
            
          
        </ul>
      </section>
    
  
</aside>

  </div>
</div>

<footer role="contentinfo">
  <p>Copyright &copy; 2019  - <a href="https://budougumi0617.github.io/license/">License</a> -
  <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
</p>

</footer>






<script>
  var _gaq=[['_setAccount','UA-43042615-4'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

